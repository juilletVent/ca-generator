[ ca ]
# Root Certificate Authority Configuration
default_ca = CA_default

[ CA_default ]
# Directory and file locations
dir = ./
certs = $dir/cert
new_certs_dir = $dir/signed_certs
database = $dir/index.txt
serial = $dir/serial
RANDFILE = $dir/private/.rand

# Root CA certificate and private key
private_key = $dir/private/root_ca.key.pem
certificate = $dir/cert/root_ca.cert.pem

# Certificate Revocation List settings (optional)
# crlnumber = $dir/crlnumber
# crl = $dir/crl/root_ca.crl.pem
# crl_extensions = crl_ext
# default_crl_days = 30

# Hashing and signing algorithm
default_md = sha256

# Certificate display options
name_opt = ca_default
cert_opt = ca_default

# Default certificate validity
default_days = 3650
preserve = no
policy = policy_loose

# Loose policy for signing intermediate CAs (more flexible)
[ policy_loose ]
countryName = optional
stateOrProvinceName = optional
localityName = optional
organizationName = optional
organizationalUnitName = optional
commonName = supplied
emailAddress = optional

[ req ]
# Certificate request settings
default_bits = 4096
distinguished_name = req_distinguished_name
string_mask = utf8only
default_md = sha256
x509_extensions = root_ca

# Distinguished Name field descriptions and defaults
[ req_distinguished_name ]
countryName = Country Name (2 letter code)
countryName_default = CN
stateOrProvinceName = State or Province Name
stateOrProvinceName_default = Beijing
localityName = Locality Name
localityName_default = Beijing
0.organizationName = Organization Name
0.organizationName_default = Internal Certificate Authority
organizationalUnitName = Organizational Unit Name
organizationalUnitName_default = Certificate Authority Division
commonName = Common Name
commonName_default = Internal Root CA
emailAddress = Email Address
emailAddress_default = ca-admin@internal.local

[ root_ca ]
# Root CA certificate extensions
# This is a self-signed root certificate authority
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical, CA:true
keyUsage = critical, digitalSignature, cRLSign, keyCertSign
# CRL distribution points (optional, uncomment if needed)
# crlDistributionPoints = URI:

[ intermediate_ca ]
# Intermediate CA certificate extensions
# Signed by Root CA, can sign end-entity certificates
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical, CA:true, pathlen:0
keyUsage = critical, digitalSignature, cRLSign, keyCertSign
# CRL distribution points (optional, uncomment if needed)
# crlDistributionPoints = URI:
# Authority Information Access (optional, uncomment if needed)
# authorityInfoAccess = OCSP;URI:

# Certificate Revocation List extensions (optional)
[ crl_ext ]
authorityKeyIdentifier = keyid:always